import {get, post} from "~/base/axios";
import md5 from 'js-md5'

export function useUserExists(userIdentifier: string) {
    return get('/user/has_user/' + userIdentifier)
}

export function useRegisterVerification(captcha: string, email: string, username: string, password: string) {
    return post('/user/register/email', {
        email, username, password: md5(password)
    }, {
        headers: {
            captcha
        }
    })
}

export function useRegister(captcha: string, code: string, hex: string) {
    return post('/user/register/verify', {
        code, hex
    }, {
        headers: {
            captcha
        }
    })
}

export function useLogin(captcha: string, username: string, password: string) {
    return post('/user/login', {
      username, password: md5(password)
    }, {
        headers: {
            captcha
        }
    })
}